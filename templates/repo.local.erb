<%if @repo -%>
# cvmfs <%= @repo -%>.local file installed with puppet.
# this files overrides and extends the values contained
# within the <%= @repo -%>.conf file.
<% else -%>
# cvmfs default.local file installed with puppet.
# this files overrides and extends the values contained
# within the default.conf file.
<% end -%>

<% if @cvmfs_dns_max_ttl -%>
CVMFS_DNS_MAX_TTL='<%= @cvmfs_dns_max_ttl %>'
<% end -%>
<% if @cvmfs_dns_min_ttl -%>
CVMFS_DNS_MIN_TTL='<%= @cvmfs_dns_min_ttl %>'
<% end -%>
<% if @my_cvmfs_quota_limit and  @my_cvmfs_quota_limit != '' -%>
CVMFS_QUOTA_LIMIT='<%= @my_cvmfs_quota_limit %>'
<% end -%>
<% if @cvmfs_memcache_size -%>
CVMFS_MEMCACHE_SIZE=<%= @cvmfs_memcache_size %>
<% end -%>
<% if @cvmfs_http_proxy and  @cvmfs_http_proxy != '' -%>
CVMFS_HTTP_PROXY='<%= @cvmfs_http_proxy %>'
<% end -%>
<% if @cvmfs_cache_base and  @cvmfs_cache_base != '' -%>
CVMFS_CACHE_BASE='<%= @cvmfs_cache_base %>'
<% end -%>
<% if @cvmfs_claim_ownership and  @cvmfs_claim_ownership != '' -%>
CVMFS_CLAIM_OWNERSHIP='<%= @cvmfs_claim_ownership %>'
<% end -%>
<% if @cvmfs_uid_map -%>
CVMFS_UID_MAP='<%= @_cvmfs_id_map_file_prefix %>.uid_map'
<% end -%>
<% if @cvmfs_gid_map -%>
CVMFS_GID_MAP='<%= @_cvmfs_id_map_file_prefix %>.gid_map'
<% end -%>
<% if @cvmfs_server_url and @cvmfs_server_url != '' -%>
CVMFS_SERVER_URL='<%= @cvmfs_server_url %>'
<% end -%>
<% if @cvmfs_timeout and  @cvmfs_timeout != '' -%>
CVMFS_TIMEOUT='<%= @cvmfs_timeout %>'
<% end -%>
<% if @cvmfs_timeout_direct and  @cvmfs_timeout_direct != '' -%>
CVMFS_TIMEOUT_DIRECT='<%= @cvmfs_timeout_direct %>'
<% end -%>
<% if @cvmfs_nfiles and  @cvmfs_nfiles != '' -%>
CVMFS_NFILES='<%= @cvmfs_nfiles %>'
<% end -%>
<% if @cvmfs_public_key and @cvmfs_public_key != '' -%>
CVMFS_PUBLIC_KEY='<%= @cvmfs_public_key %>'
<% end -%>
<% if @cvmfs_syslog_level and  @cvmfs_syslog_level != '' -%>
CVMFS_SYSLOG_LEVEL='<%= @cvmfs_syslog_level %>'
<% end -%>
<% if @cvmfs_tracefile and  @cvmfs_tracefile != '' -%>
CVMFS_TRACEFILE='<%= @cvmfs_tracefile %>'
<% end -%>
<% if @cvmfs_debuglog and @cvmfs_debuglog != '' -%>
CVMFS_DEBUGLOG='<%= @cvmfs_debuglog %>'
<% end -%>
<% if @cvmfs_max_ttl and @cvmfs_max_ttl != '' -%>
CVMFS_MAX_TTL='<%= @cvmfs_max_ttl %>'
<% end -%>
<% if @cvmfs_use_geoapi and @cvmfs_use_geoapi != '' -%>
CVMFS_USE_GEOAPI='<%= @cvmfs_use_geoapi %>'
<% end -%>
<% if @cvmfs_mount_rw and @cmvfs_use_rw != '' -%>
CVMFS_MOUNT_RW=<%= @cvmfs_mount_rw %>
<% end -%>
<% if @cvmfs_follow_redirects -%>
CVMFS_FOLLOW_REDIRECTS='<%= @cvmfs_follow_redirects %>'
<% end -%>
<% if @cvmfs_external_fallback_proxy -%>
CVMFS_EXTERNAL_FALLBACK_PROXY='<%= @cvmfs_external_fallback_proxy %>'
<% end -%>
<% if @cvmfs_repository_tag -%>
CVMFS_REPOSITORY_TAG='<%= @cvmfs_repository_tag %>'
<% end -%>
<% if @cvmfs_external_http_proxy -%>
CVMFS_EXTERNAL_HTTP_PROXY='<%= @cvmfs_external_http_proxy %>'
<% end -%>
<% if @cvmfs_external_timeout -%>
CVMFS_EXTERNAL_TIMEOUT='<%= @cvmfs_external_timeout %>'
<% end -%>
<% if @cvmfs_external_timeout_direct -%>
CVMFS_EXTERNAL_TIMEOUT_DIRECT='<%= @cvmfs_external_timeout_direct %>'
<% end -%>
<% if @cvmfs_external_url -%>
CVMFS_EXTERNAL_URL='<%= @cvmfs_external_url %>'
<% end -%>
<%if @cvmfs_env_variables -%>
<% @cvmfs_env_variables.each_pair do |var, value| -%>
export <%=var-%>=<%=value%>
<%end-%>
<% if @cvmfs_alien_cache -%>
CVMFS_ALIEN_CACHE='<%= @cvmfs_alien_cache %>'
<% end -%>
<% if @cvmfs_shared_cache -%>
CVMFS_SHARED_CACHE='<%= @cvmfs_shared_cache %>'
<% end -%>
<% if @cvmfs_instrument_fuse -%>
CVMFS_INSTRUMENT_FUSE=true
<% end -%>
<%end-%>
